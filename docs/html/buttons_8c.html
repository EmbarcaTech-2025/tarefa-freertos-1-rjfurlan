<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EmbarcaTech FreeRTOS BitDogLab Tarefa-1: src/buttons.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">EmbarcaTech FreeRTOS BitDogLab Tarefa-1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">buttons.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initializes the button GPIOs and provides task functions, with and without the use of semaphores, as well as a handler variable for them, to be used by the RTOS It also updates the OLED display with information whether each of the tasks can be performed or not.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;pico/stdlib.h&quot;</code><br />
<code>#include &quot;FreeRTOS.h&quot;</code><br />
<code>#include &quot;semphr.h&quot;</code><br />
<code>#include &quot;task.h&quot;</code><br />
<code>#include &quot;<a class="el" href="app__semaphores_8h_source.html">../include/app_semaphores.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buzzer_8h_source.html">../include/buzzer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buttons_8h_source.html">../include/buttons.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">../include/config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="led__rgb_8h_source.html">../include/led_rgb.h</a>&quot;</code><br />
<code>#include &quot;../src/oled/display.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for buttons.c:</div>
<div class="dyncontent">
<div class="center"><img src="buttons_8c__incl.png" border="0" usemap="#asrc_2buttons_8c" alt=""/></div>
<map name="asrc_2buttons_8c" id="asrc_2buttons_8c">
<area shape="rect" title="Initializes the button GPIOs and provides task functions, with and without the use of semaphores,..." alt="" coords="409,5,514,32"/>
<area shape="rect" title=" " alt="" coords="744,155,845,181"/>
<area shape="rect" title=" " alt="" coords="16,155,112,181"/>
<area shape="rect" title=" " alt="" coords="149,155,232,181"/>
<area shape="rect" title=" " alt="" coords="307,80,370,107"/>
<area shape="rect" href="app__semaphores_8h.html" title="Initializes semaphores and makes them available." alt="" coords="24,80,232,107"/>
<area shape="rect" href="buzzer_8h.html" title="Initializes BUZZER PWM and provides task functions, with and without the use of semaphores,..." alt="" coords="445,80,584,107"/>
<area shape="rect" href="buttons_8h.html" title="Initializes the button GPIOs and provides task functions, with and without the use of semaphores,..." alt="" coords="608,80,755,107"/>
<area shape="rect" href="config_8h.html" title="Parameters that will be used by the software." alt="" coords="779,80,915,107"/>
<area shape="rect" href="led__rgb_8h.html" title="Initializes the LED GPIOs and provides task functions, with and without the use of semaphores,..." alt="" coords="939,80,1085,107"/>
<area shape="rect" href="display_8h_source.html" title=" " alt="" coords="1109,80,1256,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae173cfd5e6f9b80bb7d680cbca8851fd"><td class="memItemLeft" align="right" valign="top"><a id="ae173cfd5e6f9b80bb7d680cbca8851fd" name="ae173cfd5e6f9b80bb7d680cbca8851fd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>buttons_init</b> ()</td></tr>
<tr class="memdesc:ae173cfd5e6f9b80bb7d680cbca8851fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the button GPIOs. <br /></td></tr>
<tr class="separator:ae173cfd5e6f9b80bb7d680cbca8851fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7190548ec89ecf5c18d66018ef5fdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buttons_8c.html#a8e7190548ec89ecf5c18d66018ef5fdd">buttons_task</a> (void *arg)</td></tr>
<tr class="memdesc:a8e7190548ec89ecf5c18d66018ef5fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">task function, without using semaphores Based on button A, the LED task is suspended or not. Based on button B, enable or disable the buzzer. This approach was used because suspending the buzzer task could cause it to ring continuously while the button was pressed. Updates the OLED display with information on whether the LED TASK is suspended or not, as well as whether the buzzer is enabled or not.  <a href="buttons_8c.html#a8e7190548ec89ecf5c18d66018ef5fdd">More...</a><br /></td></tr>
<tr class="separator:a8e7190548ec89ecf5c18d66018ef5fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a811ff456c96ac9827a7af97b9164a24c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buttons_8c.html#a811ff456c96ac9827a7af97b9164a24c">buttons_task_with_semaphore</a> (void *arg)</td></tr>
<tr class="memdesc:a811ff456c96ac9827a7af97b9164a24c"><td class="mdescLeft">&#160;</td><td class="mdescRight">task function, using semaphores Based on button A, access to or release of the LED is done through a semaphore Based on button B, access to or release of the BUZZER is done through a semaphore Updates the OLED display with information whether each task can access the resource or not.  <a href="buttons_8c.html#a811ff456c96ac9827a7af97b9164a24c">More...</a><br /></td></tr>
<tr class="separator:a811ff456c96ac9827a7af97b9164a24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a24938588936b5b5e0e22841aefe6d17f"><td class="memItemLeft" align="right" valign="top"><a id="a24938588936b5b5e0e22841aefe6d17f" name="a24938588936b5b5e0e22841aefe6d17f"></a>
TaskHandle_t&#160;</td><td class="memItemRight" valign="bottom"><b>buttons_task_handle</b></td></tr>
<tr class="separator:a24938588936b5b5e0e22841aefe6d17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Initializes the button GPIOs and provides task functions, with and without the use of semaphores, as well as a handler variable for them, to be used by the RTOS It also updates the OLED display with information whether each of the tasks can be performed or not. </p>
<dl class="section author"><dt>Author</dt><dd>Ricardo Jorge Furlan </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-06-13 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8e7190548ec89ecf5c18d66018ef5fdd" name="a8e7190548ec89ecf5c18d66018ef5fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7190548ec89ecf5c18d66018ef5fdd">&#9670;&nbsp;</a></span>buttons_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buttons_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>task function, without using semaphores Based on button A, the LED task is suspended or not. Based on button B, enable or disable the buzzer. This approach was used because suspending the buzzer task could cause it to ring continuously while the button was pressed. Updates the OLED display with information on whether the LED TASK is suspended or not, as well as whether the buzzer is enabled or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg,unused</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a811ff456c96ac9827a7af97b9164a24c" name="a811ff456c96ac9827a7af97b9164a24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a811ff456c96ac9827a7af97b9164a24c">&#9670;&nbsp;</a></span>buttons_task_with_semaphore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buttons_task_with_semaphore </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>task function, using semaphores Based on button A, access to or release of the LED is done through a semaphore Based on button B, access to or release of the BUZZER is done through a semaphore Updates the OLED display with information whether each task can access the resource or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arg,unused</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
